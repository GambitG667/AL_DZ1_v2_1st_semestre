# Калькулятор v.2
## Основа алгоритма
Для вычисления выражения используется предварительный перевод в обратную польскую нотацию. Наибольшую трудность составила предварительная подготовка выражения применению алгоритмов. Для того чтобы не работать со строкой я создал класс обертку `Token`, он позволяет абстрагироватся от строк и работать стразу с числами и знаками операций. Само вычисление представляет собой дословное цитирование алгоритмов Дейкстры и алгоритм вычисления по обратной польской нотации.
## Токенизация
Токеном является число, переменная, знак операции и скобки. Любое коректное арифметическое выражение можно представить в виде массива токенов.
## Алгоритм Дейкстры
Для операций определяется приоритет:

- 6: `sin, cos, tan, ctan, exp`
- 5: `^`
- 4: `*, /`
- 3: `+, -`
- 2: `)`
- 1: `(`

Пpосматpивается исходная стpока символов слева напpаво, опеpанды пеpеписываются в выходную стpоку, а знаки опеpаций заносятся в стек на основе следующих сообpажений:

- а) если стек пуст, то опеpация из входной стpоки пеpеписывается в стек
- б) опеpация выталкивает из стека все опеpации с большим или pавным пpиоpитетом в выходную стpоку;
- в) если очеpедной символ из исходной стpоки есть откpывающая скобка, то он пpоталкивается в стек;
- г) закpывающая кpуглая скобка выталкивает все опеpации из стека до ближайшей откpывающей скобки, сами скобки в выходную стpоку не пеpеписываются, а уничтожают дpуг дpуга.
## Алгоритм вычисления
Пока входная строка не закончится:
1) Получаем токен из строки
2) Если это число кладем в стек
3) Если это операция, то применяем ее к нужному количеству чисел с верха стека и возвращаем результат на верх стека

На вершине стека лежит результат вычисления